---
title: 001-音视频基础概念
description: 
published: true
date: 2023-02-07T01:51:06.477Z
tags: 音视频
editor: markdown
dateCreated: 2023-02-07T01:51:05.301Z
---

# 音视频基础概念

## 声音的物理性质
### 声波的三要素
频率（音阶高低）、振幅（响度）、波形（音色）

低频声响波长长，更容易绕过障碍物，能量衰减小。
人耳的频率范围在20Hz~20kHz之间，这个区域内不同频率，人的敏感度也不同，因此有等响曲线。
回声间隔大于80ms人才能分辨。

## 数字音频
采样，量化，编码

采样就是在时间轴上进行数字化。

根据奈奎斯特定理（采样定理），按比声音最高频率高2倍以上的频率对声音进行采样（也叫AD转换）。
所以，根据人耳频率范围，高质量音频信号的采样频率一般为44.1kHz

量化就是在幅度轴上进行数字化，比如用16bit（位深度）的二进制信号表示声音的一个采样。

编码就是按一定格式记录采样量化后的数字数据。

例如音频裸数据格式就是脉冲编码调制(PCM)，量化格式（位深度），采样率，声道数。

数据比特率用来描述声音数据单位时间内的容量大小，例如PCM数据 数据比特率=位深度x采样率x声道数(kbps/bps)

由于声音的声压变化范围非常大，同时人耳道反应与声压不是线性的，因此使用分贝表示声学量值。

\\(N = 10 \lg \frac{A1}{A0}\\)，符号dB，无量纲。A0上基准量,A1是被度量量。
## 音频编码
1. WAV编码: WAV编码的一种实现就是在PCM数据前加上44字节，描述PCM的采样率，声道数，数据格式等信息。
2. MP3编码: 兼容性很好。
3. AAC编码: 多用于128Kbps下的音频编码，多用于视频中音频轨的编码。
4. Ogg编码: Ogg音质好，而且免费，兼容性不够好，流媒体特性不支持。适用于语音聊天的音频消息场景。

## 图像的数值表示
JPEG是静态图像压缩
### RGB表示方式

### YUV表示方式

Y表示明亮度，UV表示色度。

色度定义了颜色的色调和饱和度，分别用Cr和Cb表示。
Cr反映RGB输入信号红色部分与RGB信号亮度值之间的差异
Cb反映RGB输入信号蓝色部分与RGB信号亮度值之间的差异
未来防止信号变动造成过载，YUV取值时会留出保护带 Y(16-235)，UV(16-240)
TODO: plant packed模式，444 420等
### YUV与RGB的转换
标清电视使用标准BT.601
xx
高清电视使用标准BT.709
xx
## 视频编码方式

### 视频编码
1. 运动补偿
2. 运动表示:不同图像区域使用不同的运动矢量描述信息
3. 运动估计

IOS制定了Motion JPEG(MPEG)算法是一种动态视频压缩算法

ITU-T制定了H.261、H.262、H.263、H.264等标准

### 编码概念

#### GOP

编码器将多张图像进行编码后生产成一段一段的 GOP ( Group of Pictures ) ， 解码器在播放时则是读取一段一段的 GOP 进行解码后读取画面再渲染显示。GOP ( Group of Pictures) 是一组连续的画面，由一张 I 帧和数张 B / P 帧组成，是视频图像编码器和解码器存取的基本单位

#### IPB帧

I帧:帧内编码帧(intra picture),可以当做静态图像，作为随机访问的参考点
P帧:前向预测编码帧(predictive frame)
B帧:双向预测内插编码帧

![img](https://yilongdong-blog.oss-cn-hangzhou.aliyuncs.com/img/653161-20190409133500660-1511997028.png)

> IDR帧：H.264采用了多帧预测，因此需要缓冲多个参考I帧。IDR是一种特殊的I帧，即这一帧之后只会参考到这个IDR帧，不会参考前面的帧。收到IDR帧后解码器就可以清空参考帧缓冲区，并将IDR帧作为参考帧。

I帧压缩率是7，P是20，B可以达到50。

#### PTS和DTS

PTS是展示时间戳，DTS是解码时间戳。

在没有B帧时PTS和DTS输出顺序是一致的，但是因为B帧打乱的解码与显示的顺序，因此存在B帧时PTS和DTS不同。

